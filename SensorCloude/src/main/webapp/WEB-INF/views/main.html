<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	data-layout-decorate="~{include/layout}">


<th:block layout:fragment="page_head">
	<title>메인페이지</title>
</th:block>

<th:block layout:fragment="page_css">
 	<link rel="stylesheet" type="text/css" href="/resources/css/main.css">
</th:block>
<th:block layout:fragment="contents">
	 <div id="main-container">
    <div id="left-content">
      <div class="title-header">
          <h1>현장목록</h1>
          <a href="/sitelist/1">more</a>
      </div>
      <table id="siteTable">
        <thead>
          <tr>
            <th scope="col" class="status" style="width:8%;" >현재상태</th>
            <th scope="col" class="sname" style="width:15%;" >현장이름</th>
            <th scope="col" class="saddr" style="width:22%;" >주소</th>
            <th scope="col" class="stime" style="width:15%;" >데이터갱신시간</th>
          </tr>
        </thead>
        
        <tbody id="site">
          <tr th:each="sitelist : ${sitelist}">
           <td th:switch="${sitelist.site_status}">
				<img src="resources/img/gray.svg"  th:case="'0'">
				<img src="resources/img/green.svg" th:case="'1'">
				<img src="resources/img/red.svg"   th:case="'2'">
			</td>
            <td th:text="${sitelist.site_name}"></td>
            <td th:text="${sitelist.address}"></td>
            <td th:text="${sitelist.start_date}"></td>
			<td th:text="${sitelist.site_id}" style="display : none"></td>
         </tr>
        </tbody>
      </table>
    </div>

    <div id="right-content">
      <div id="right-top">
        <div class="title-header">
            <h1>점검이력</h1>
            <a href="/check/1">more</a>
        </div>
        <div class="image-container">
          <div class="grid">
            <div class="images" th:each="mainchecklist : ${mainchecklist}">
            <div th:if="${mainchecklist.file_path = 'null'}">
              <img src="/resources/img/addimage.svg" class="responsive-image">
    		</div>
    		<div th:if="${mainchecklist.file_path != 'null'}">
              <img src="${mainchecklist.file_path}" class="responsive-image">
    		</div>
              <h5 th:text="${mainchecklist.title}"></h5>
              <h5 th:text=${mainchecklist.name}></h5>
              <span id="chdate" th:text=${mainchecklist.reg_date}></span>
              <span id="chstatus" th:switch=${mainchecklist.board_status}>
              	<span th:case="'0'">open</span>
              	<span th:case="'1'">fixed</span>
              	<span th:case="'2'">closed</span>
              </span>
            </div>
            
          </div>
        </div> 
      </div>

      <div id="right-bottom">
        <div class="title-header">
          <h1>타임라인</h1>
           <a href="/timeline">more</a>
        </div>
        <div class="timeline" th:each="timelinelist : ${timelinelist}">
            <div class="timeline-header">
                <h3 th:text="${timelinelist.name}">id</h3>
                <h5 th:text="${timelinelist.time}">date</h5>
            </div>
            <p th:text="${timelinelist.content}">content</p>
          </div>
      </div>
    </div>
  </div>
</th:block>
	
	<th:block layout:fragment="page_js" >
		<script src="/resources/js/main.js"></script>
	</th:block>
	
</html>